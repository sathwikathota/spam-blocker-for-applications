1) registration_user.jsp

<%@ page import="java.util.*,java.text.DateFormat.*,java.text.ParseException.*"%>

<%@page

import="com.oreilly.servlet.*,java.sql.*,java.lang.*,databaseconnection.*,java.text.SimpleDateFormat,java.

util.*,java.io.*,javax.servlet.*, javax.servlet.http.*" %>

<%@ page import = "java.util.Date,java.text.SimpleDateFormat,java.text.ParseException"%>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"

"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <link rel="stylesheet" type="text/css" href="style.css" /> <title>SPAM BLOCKERS FOR APPLICATIONS</title>

<script type="text/javascript">

function valid()

{
var aa=document.s.un.value;

if(aa=="")
{

alert("Enter Name");
document.s.un.focus();

return false;
}

if((document.s.gen[0].checked==false)&&(document.s.gen[1].checked==false))
{
alert("Select Gender");

document.s.un.focus();
return false;

}

var db=document.s.dob.value;
if(db=="")

{

alert("Enter The Date Of Birth");


	
 





document.s.dob.focus();
return false;

}

var k = document.s.mob.value;
if(k=="")

{
alert("Enter mobile number");

document.s.mob.focus();
return false;

}
if(isNaN(k))

{
alert("Enter mobile number in numbers");

document.s.mob.focus();
return false;

}
if(k.charAt(0)<=5)

{
alert("Enter the correct mobile no");

document.s.mob.focus();
return false;

}
if(k.length!=10)

{
alert("Enter 10 digits");

document.s.mob.focus();
return false;

}

var emailfilter=/^\w+[\+\.\w-]*@([\w-]+\.)*\w+[\w-]*\.([a-z]{2,4}|\d+)$/i; var m=emailfilter.test(document.s.eid.value);

if(m==false)
{

alert("Please enter a valid Email Id");
document.s.eid.focus();

return false;
}

var ad = document.s.ad.value;

if(ad=="")
{

alert("Enter Address");
document.s.ad.focus();

return false;
}


	30
 









var a=document.s.uid.value;

if(a=="")
{

alert("Enter User ID");
document.s.uid.focus();

return false;
}

var b=document.s.pass.value;
if(b=="")

{
alert("Enter Password");

document.s.pass.focus();
return false;

}
}

</script>
</head>

<body>
<%

java.util.Date now = new java.util.Date();
String DATE_FORMAT1 = "dd/MM/yyyy";

SimpleDateFormat sdf1 = new SimpleDateFormat(DATE_FORMAT1); String strDateNew1 = sdf1.format(now);

String alphabet="MOBVCXZPNWIEURYTKSLAHFJDGQ"; int character=(int)(Math.random()*26);
String s=alphabet.substring(character, character+4);
//System.out.println(s);

int y=100+(int)(Math.random()*1000);

String z=s+y;

session.setAttribute("z1",z);

%>

<div id="container">
<%@ include file="header.jsp" %>

<div id="menu">

<ul>

<li class="menuitem"><a href="index.jsp">Back</a></li> <!-- <li class="menuitem"><a href="#">About</a></li>
<li class="menuitem"><a href="#">Products</a></li>

<li class="menuitem"><a href="#">Services</a></li>
<li class="menuitem"><a href="#">Design</a></li>


SPAM BLOCKERS FOR APPLICATIONS	31
 




<li class="menuitem"><a href="#">Contact</a></li>--> </ul>

</div>

<div id="content">

<h2>&nbsp; </h2>
<h3>&nbsp;</h3>

<table width="800">

<tr>
<td>

<fieldset>
<table width="500" height="300">

<tr>
<td>

<form name="s" action="register1_user.jsp" method="post" onsubmit="return valid()" enctype="multipart/form-data">

<table align="center" cellpadding="5" cellspacing="5" width="420" border="0"> <tr>
<tr>

<td colspan="2" align="center"><strong><font color="#FF3300" size="+1" face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Newuser Registration</font></strong></td>
</tr>
<td colspan="2" align="center">&nbsp;</td>

</tr>

<tr>

<td><font face="Courier New" size="+1" color="#000000"><strong>Name</strong></font></td>

<td>&nbsp;&nbsp;&nbsp;&nbsp; <input type="text" name="un" class="b" placholder="enter name" pattern="[A-Za-z]{1,20}" title="enter only charecter"></td>
</tr>

<tr>

<td><font face="Courier New" size="+1" color="#000000"><strong>Gender</strong></font></td>

<td>&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" name="gen" value="male" class="b">Male&nbsp;&nbsp;&nbsp;&nbsp;

<input type="radio" name="gen" value="female" class="b">Female</td>
</tr>

<tr>

<td><font face="Courier New" size="+1" color="#000000"><strong>DOB</strong></font></td> <td>&nbsp;&nbsp;&nbsp;&nbsp; <input type="date" name="dob" class="b"></td>
</tr>


	
 




<tr>

<td><font face="Courier New" size="+1" color="#000000"><strong>Mobile</strong></font></td>

<td>&nbsp;&nbsp;&nbsp;&nbsp; <input type="text" name="mob" class="b"></td> </tr>

<tr>

<td><font face="Courier New" size="+1" color="#000000"><strong>Email ID</strong></font></td>

<td>&nbsp;&nbsp;&nbsp;&nbsp; <input type="text" name="eid" class="b"></td> </tr>
<tr>

<td><font face="Courier New" size="+1" color="#000000"><strong>Address</strong></font></td>

<td>&nbsp;&nbsp;&nbsp;&nbsp; <textarea name="ad"></textarea></td> </tr>

<tr>

<td><font face="Courier New" size="+1" color="#000000"><strong>User ID</strong></font></td>

<td>&nbsp;&nbsp;&nbsp;&nbsp; <input type="text" name="uid" class="b"></td> </tr>

<tr>
<td><font face="Courier New" size="+1"

color="#000000"><strong>Password</strong></font></td>

<td>&nbsp;&nbsp;&nbsp;&nbsp; <input type="password" name="pass"></td> </tr>

<tr>

<td><font face="Courier New" size="+1" color="#000000"><strong>Profile Image</strong></font></td>
<td>&nbsp;&nbsp;&nbsp;&nbsp; <input type="file" name="fil" class="b"

required="required"></td>
</tr>

<tr>

<td><font face="Courier New" size="+1" color="#000000"><strong>Date</strong></font></td> <td>&nbsp;&nbsp;&nbsp;&nbsp; <input type="text" name="date" class="b"
value="<%=strDateNew1%>"></td>
</tr>

<tr>
<tr>

<td></td>
<td><input type="submit" name="s" value="submit" class="b1" >




	
 








&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs p;&nbsp;

<input type="reset" name="r" value="clear" class="b1"></td> </tr>
</table>

</form>
</td>

</tr>
</table>

</fieldset>
<td>&nbsp;</td>

</td>
<td>

<fieldset>
<table width="200" height="300" border="0">

<tr>
<td><font size="2"><b>

<%
String message=request.getParameter("message");

if(message!=null && message.equalsIgnoreCase("success"))

{
out.println("<font color='red'><blink>Registered Successfully !</blink></font>");

}

%>
</b></font></td>

</tr>
<tr>

<td align="justify"><p align="center"><img src="images/reg.jpg" /> </td>

</tr>
</table>

</fieldset>
</td>

</tr>
</table>

<br />

<br />

<%@ include file="footer.jsp" %>
</div>

</div>
</body>


	
 







</html>




2) user_login.jsp

<%@ page  import="java.sql.*" import="databaseconnection.*"%>

<%

int a=0;

String b=null,c=null,d=null,e=null,f=null,g=null,h=null,i=null,j=null,k=null,l=null,m=null; String idu = request.getParameter("uname");

String passu= request.getParameter("passw");


try
{

Connection con1 = databasecon.getconnection();
Statement st1 = con1.createStatement();

//String sql="select uid,name,userAES_DECRYPT(email,'key') from user";
String sss1 = "select * from user_reg where user_id='"+idu+"' && pass='"+passu+"'";

ResultSet rs1=st1.executeQuery(sss1);

if(rs1.next())
{

a=rs1.getInt(1);
session.setAttribute("a1",a);

b=rs1.getString(2);
session.setAttribute("b1",b);

c=rs1.getString(3);
session.setAttribute("c1",c);

d=rs1.getString(4);
session.setAttribute("d1",d);

e=rs1.getString(5);
session.setAttribute("e1",e);

f=rs1.getString(6);
session.setAttribute("f1",f);

g=rs1.getString(7);
session.setAttribute("g1",g);

h=rs1.getString(8);
session.setAttribute("h1",h);

i=rs1.getString(9);
session.setAttribute("i1",i);

j=rs1.getString(10);


	
 




session.setAttribute("j1",j);
k=rs1.getString(11);

session.setAttribute("k1",k);
l=rs1.getString(12);

session.setAttribute("l1",l);

m=rs1.getString(13);
session.setAttribute("m1",m);

response.sendRedirect("user_home.jsp?message=success");

}
else

{

response.sendRedirect("index.jsp?message=fail");
}

}
catch(Exception e1)

{
out.println(e1.getMessage());

}
%>



3) message_filter.jsp

<%@ page import="java.util.*,java.text.DateFormat.*,java.text.ParseException.*"%> <%@page

import="com.oreilly.servlet.*,java.sql.*,java.lang.*,databaseconnection.*,java.text.SimpleDateFormat,java. util.*,java.io.*,
javax.servlet.*, javax.servlet.http.*" %>
<%@ page import = "java.util.Date,java.text.SimpleDateFormat,java.text.ParseException"%>

<%

String m1 = "Violence";
String m2 = "Vulgar";

String m3 = "Offensive";
String m4 = "Hate";

String m5 = "Sex";
String [] cat={m1,m2,m3,m4,m5};

String wrd=null;
String str = request.getParameter("status");

session.setAttribute("str6",str);
String[] str1 = str.split(" ");

int vio=0;


	
 






int vul=0;
int off=0;

int hat=0;
int sex=0;

StringBuffer vio1=new StringBuffer();
StringBuffer vul1=new StringBuffer();

StringBuffer off1=new StringBuffer();
StringBuffer hat1=new StringBuffer();

StringBuffer sex1=new StringBuffer();

try
{

Connection con1 = databasecon.getconnection();
Statement st1 = con1.createStatement();

for (int t=0; t<cat.length; t++)

{

ResultSet rs1=st1.executeQuery("select * from filter_message where detail1='"+cat[t]+"'"); while(rs1.next())

{
wrd=rs1.getString(3);

for (int i=0; i<str1.length; i++)

{

if((str1[i].equalsIgnoreCase(wrd)) && (cat[t].equals("Violence")))
{

vio++;
vio1.append(wrd);

vio1.append(",");
}

else if((str1[i].equalsIgnoreCase(wrd)) && (cat[t].equals("Vulgar")))
{

vul++;
vul1.append(wrd);

vul1.append(",");

}
else if((str1[i].equalsIgnoreCase(wrd)) && (cat[t].equals("Offensive")))

{
off++;

off1.append(wrd);
off1.append(",");

}


	
 







else if((str1[i].equalsIgnoreCase(wrd)) && (cat[t].equals("Hate")))
{

hat++;
hat1.append(wrd);

hat1.append(",");

}
else if((str1[i].equalsIgnoreCase(wrd)) && (cat[t].equals("Sex")))

{
sex++;

sex1.append(wrd);

sex1.append(",");

}
}

}

}

String vio2=new String(vio1);
String vul2=new String(vul1);

String off2=new String(off1);
String hat2=new String(hat1);

String sex2=new String(sex1);
String ans [] ={vio2,vul2,off2,hat2,sex2};

session.setAttribute("vio2",vio2);
session.setAttribute("vul2",vul2);

session.setAttribute("off2",off2);
session.setAttribute("hat2",hat2);

session.setAttribute("sex2",sex2);
session.setAttribute("vio",vio);

session.setAttribute("vul",vul);
session.setAttribute("off",off);

session.setAttribute("hat",hat);
session.setAttribute("sex",sex);

/*System.out.println(vio2);

System.out.println(vul2);
System.out.println(off2);

System.out.println(hat2);
System.out.println(sex2);

System.out.println(vio);
System.out.println(vul);

System.out.println(off);
System.out.println(hat);


	
 






System.out.println(sex);

*/
if((vio>0) || (vul>0) || (off>0) || (hat>0) ||(sex>0))

{

for (int z=0; z<str1.length; z++)
{

for(int t=0;t<ans.length;t++)
{

String ss=ans[t];
String [] ss1=ss.split(",");

for(int i=0;i<ss1.length;i++)

{
if(str1[z].equalsIgnoreCase(ss1[i]))

{
str1[z] = "<span style='background:#FFFF33'>"+str1[z]+"</span>";

}
else

{
str1[z] = str1[z];

}
}

}
}

StringBuffer sb=new StringBuffer();
for(int q=0;q<str1.length;q++)

{
sb.append(str1[q]);

sb.append(" ");
}

String word=new String(sb);
//out.println(word);

%>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <link rel="stylesheet" type="text/css" href="style.css" /> <title>SPAM BLOCKERS FOR APPLICATIONS</title>
<script type="text/javascript">

function val()
{


	
 







var a=document.f1.uname.value;
if(a=="")

{
alert("Enter Your Username Here");

document.f1.uname.focus();
return false;

}

var b=document.f1.passw.value;
if(b=="")

{
alert("Enter Your Password Here");

document.f1.passw.focus();
return false;

}

}
</script>

</head>

<body>
<div id="container">

<%@ include file="header.jsp" %>

<div id="menu">

<!--<ul>

<li class="menuitem"><a href="#">Home</a></li> <li class="menuitem"><a href="#">About</a></li>
<li class="menuitem"><a href="#">Products</a></li>

<li class="menuitem"><a href="#">Services</a></li>
<li class="menuitem"><a href="#">Design</a></li>

<li class="menuitem"><a href="#">Contact</a></li> </ul>-->

</div>

<div id="content">
<h2>&nbsp; </h2>

<h3>&nbsp;</h3>

<table width="800">
<tr>

<td>
<fieldset style="background-color:#0099FF">

<form name="f6" action="insert_filter_word.jsp" method="post" onsubmit="return
val6();">


	
 







<table width="500" height="100" bgcolor="#FFFFFF"> <tr>

<td>

<p><font color="#FF0000" size="4"><blink> Your Message Can't Be Posted Because It Was Filtered</blink></font>

<br /><br /> <font color="#000000" size="3">Your Message Is</font> :&nbsp;<font color="#000000" size="3"><%=word%></font></p>
</td>

</tr>
</table>

<table width="500" height="200" bgcolor="#FFFFFF" style="border:#FF0000 solid
2px"  >

<tr>
<td>

<p><br /><br /> <font color="#0000FF" size="2px"><b>It Contained the following Text Catogery Values:</b></font> <br />

<br /> <font color="#FF00FF" size="2"> Violence</font> <font color="#000000" size="2"> : <%=vio%> </font>

<br /> <font color="#0099FF" size="2"> Vulgur</font> <font color="#000000" size="2"> : <%=vul%></font>

<br /> <font color="#6600FF" size="2"> Offensive</font> <font color="#000000" size="2"> : <%=off%></font>

<br /> <font color="#CC6666" size="2"> Hate</font> <font color="#000000" size="2">: <%=hat%></font>

<br /> <font color="#990099" size="2"> Sex </font> <font color="#000000" size="2">: <%=sex%> </font></p>

<br /><p align="center">&nbsp;&nbsp;&nbsp;&nbsp;<input type="submit" name="sub" value="OK" />&nbsp;&nbsp;&nbsp;&nbsp; Hit Ok (OR) Post Your Need About The Comment,On Right</p>

</td>

</tr>
</table>

</form>

</fieldset>
<td>&nbsp;</td>

</td>
<td>

<fieldset>

<table width="200" height="300" bgcolor="#999999"> <tr>
<td align="justify">

<form name="f1" action="user_login.jsp" method="post" onsubmit="return val();">


	
 







<p align="center"> <font face="Courier New, Courier, monospace" color="#990033" size="4"><b>&nbsp;&nbsp;&nbsp;&nbsp;UserLogin</b></font></p>

<p align="center"> <img src="images/login.png" alt="uname" />&nbsp; <input type="text" name="uname"/></b></p>

<p align="center"> <img src="images/pass.jpg" alt="pass" />&nbsp;<input type="password" name="passw"/></b></font></p>

<br />

<p align="center">

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="submit" name="sub" value="Submit" /> &nbsp;&nbsp;<input type="reset" name="clr" value="Reset" /></p>
</form>

</td>
</tr>

</table>
</fieldset>

</td>

</tr>
</table>

<br />
<br />

<%@ include file="footer.jsp" %>
</div>

</div>

</body>
</html>

<%
}

else
{

response.sendRedirect("update_status.jsp");
}

}
catch(Exception e1)

{
out.println(e1.getMessage());

}
%>










	

 

